{% extends "base.html" %}
{% block content %}
<fieldset>
    <legend>预测结果</legend>
    <div>
        {{ result }}
    </div>
</fieldset>
<fieldset>
    <legend>Permission and API Infomation</legend>
    <div id='left'>
        <table border='2'>
            <tr>
                <th>Permission Name</th>
                <th>function</th>
            </tr>
            {% for item in allpermission %}
            <tr>
                <td> {{ item }}</td>
                <td> {{ allpermission[item] }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <div id='right'>
        <table border='2'>
            <tr>
                <th>Class Name</th>
            </tr>
            {% for libstr in allapi %}
            <tr>
                <td>
                    <a href="###{{ libstr }}" onclick="openShutManager(this,'box{{ libstr }}')"> {{ libstr }} </a>
                    <div class='funtiondiv' id="box{{ libstr }}" style="display:none">
                        <table class='funtiontable' border='1'>
                            <tr>
                                <th> Function Name</th>
                                <th> The Numbers of Calls</th>
                            </tr>
                            {% for funname in allapi[libstr] %}
                            <tr>
                                <td> {{ funname }}</td>
                                <td> {{ allapi[libstr][funname] }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
</fieldset>
{% endblock %}
